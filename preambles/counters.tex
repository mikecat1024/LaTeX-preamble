\newcounter{BaseCounter}

\ifthenelse{\boolean{HasSection}}{
  \renewcommand{\theBaseCounter}{\arabic{section}.\arabic{BaseCounter}}
  \renewcommand{\theequation}{\arabic{section}.\arabic{equation}}
}{}