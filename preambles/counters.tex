\newcounter{BaseCounter}[section]

\NewDocumentCommand\HasSection{}{
  \renewcommand{\theBaseCounter}{\arabic{section}.\arabic{BaseCounter}}
  \renewcommand{\theequation}{\arabic{section}.\arabic{equation}}
}