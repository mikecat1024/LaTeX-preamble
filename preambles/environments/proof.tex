%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Proof environment                           %%             
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\ifthenelse{\equal{\ProofCaption}{Proof}}{%
  \newtheoremstyle{\ProofCommand}{}{}{}{}{\bfseries}{.}{0.5zw}{\thmname{#1}\thmnumber{\hspace{0.2em}of\hspace{0.2em}\namecref{#3}\hspace{0.2em}#2}}
}{
  \newtheoremstyle{\ProofCommand}{}{}{}{}{\bfseries}{.}{0.5zw}{\thmnumber{\namecref{#3}\hspace{0.2em}\ref{#3}\hspace{0.2em}の}\thmname{#1}}
}

% \newtheoremstyle{\ProofCommand}{}{}{}{}{\bfseries}{.}{0.5zw}{\thmnumber{\cref{#3}の}\thmname{#1}}
\theoremstyle{\ProofCommand}
\newtheorem{_\ProofCommand}[proof]{\ProofCaption}
\newtheorem*{_\ProofCommand*}{\ProofCaption}

\RenewDocumentEnvironment{\ProofCommand}{r()}{\begin{_\ProofCommand}[#1]}
{\qed\end{_\ProofCommand}}
\NewDocumentEnvironment{\ProofCommand*}{}{\begin{_\ProofCommand*}}{\qed\end{_\ProofCommand*}}
